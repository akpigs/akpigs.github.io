{"title":"CVE-2010-3863æƒé™ç»•è¿‡åˆ†æ","uid":"897e4bf7aafe9ea58ed211d851b9242c","slug":"CVE-2010-3863","date":"2020-11-09T16:18:15.000Z","updated":"2022-12-30T15:24:33.901Z","comments":true,"path":"api/articles/CVE-2010-3863.json","keywords":null,"cover":"https://img1.imgtp.com/2022/12/30/YtdstRPW.jpg","content":"<blockquote><span class=\"custom-blockquote-svg\"><svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"\" xmlns=\"http://www.w3.org/2000/svg\" data-reactroot=\"\">\n<path fill=\"\" d=\"M22 12C22 6.5 17.5 2 12 2C6.5 2 2 6.5 2 12C2 17.5 6.5 22 12 22C13.8 22 15.5 21.5 17 20.6L22 22L20.7 17C21.5 15.5 22 13.8 22 12Z\" undefined=\"1\"></path>\n<path fill=\"\" d=\"M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z\" undefined=\"1\"></path>\n<path fill=\"\" d=\"M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z\" undefined=\"1\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M17 8.5C15.23 8.97 14.07 10.84 14.01 13.27C14 13.33 14 13.4 14 13.47V13.5\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M9 8.5C7.23 8.97 6.07 10.84 6.01 13.27C6 13.33 6 13.4 6 13.47V13.5\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z\"></path>\n</svg>\n</span><p>æ—…è¡Œè€…,æœ¬ç ´ç«™ç‚¹æ—¨åœ¨åŸåˆ›æ–‡ç« è®°å½•å­¦ä¹ ç»å†&amp;&amp;æ”¶é›†ä¼˜ç§€èµ„æºå‡å°‘å­¦ä¹ æˆæœ¬ï¼Œå¦‚æœæ‚¨åˆæ›´å¥½çš„æƒ³æ³•è¯·è”ç³»æˆ‘ã€‚è®©æˆ‘ä»¬ä¸€èµ·ä¼ æ‰¿å¼€æºç²¾ç¥ğŸ¤“â€¦â€¦</p></blockquote>\n<h1 id=\"CVE-2010-3863æƒé™ç»•è¿‡åˆ†æ\"><a href=\"#CVE-2010-3863æƒé™ç»•è¿‡åˆ†æ\" class=\"headerlink\" title=\"CVE-2010-3863æƒé™ç»•è¿‡åˆ†æ\"></a>CVE-2010-3863æƒé™ç»•è¿‡åˆ†æ</h1><h2 id=\"åˆè¯†shiro\"><a href=\"#åˆè¯†shiro\" class=\"headerlink\" title=\"åˆè¯†shiro\"></a>åˆè¯†shiro</h2><blockquote><span class=\"custom-blockquote-svg\"><svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"\" xmlns=\"http://www.w3.org/2000/svg\" data-reactroot=\"\">\n<path fill=\"\" d=\"M22 12C22 6.5 17.5 2 12 2C6.5 2 2 6.5 2 12C2 17.5 6.5 22 12 22C13.8 22 15.5 21.5 17 20.6L22 22L20.7 17C21.5 15.5 22 13.8 22 12Z\" undefined=\"1\"></path>\n<path fill=\"\" d=\"M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z\" undefined=\"1\"></path>\n<path fill=\"\" d=\"M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z\" undefined=\"1\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M17 8.5C15.23 8.97 14.07 10.84 14.01 13.27C14 13.33 14 13.4 14 13.47V13.5\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M9 8.5C7.23 8.97 6.07 10.84 6.01 13.27C6 13.33 6 13.4 6 13.47V13.5\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z\"></path>\n</svg>\n</span><p><strong>Apache Shiroâ„¢</strong>æ˜¯ä¸€ä¸ªåŠŸèƒ½å¼ºå¤§ä¸”æ˜“äºä½¿ç”¨çš„ Java å®‰å…¨æ¡†æ¶ï¼Œå®ƒæ‰§è¡Œèº«ä»½éªŒè¯ã€æˆæƒã€åŠ å¯†å’Œä¼šè¯ç®¡ç†ã€‚å€ŸåŠ© Shiro æ˜“äºç†è§£çš„ APIï¼Œæ‚¨å¯ä»¥å¿«é€Ÿè½»æ¾åœ°ä¿æŠ¤ä»»ä½•åº”ç”¨ç¨‹åºâ€”â€”ä»æœ€å°çš„ç§»åŠ¨åº”ç”¨ç¨‹åºåˆ°æœ€å¤§çš„ Web å’Œä¼ä¸šåº”ç”¨ç¨‹åºã€‚</p></blockquote>\n<p>ä»å®˜æ–¹ç®€ä»‹ä¸­å¯ä»¥å¾—çŸ¥ shiro æ˜¯ä¸€å¥—æƒé™ç®¡ç†æ¡†æ¶ï¼Œåœ¨ shiro æ¡†æ¶ä¸­æœ‰ä»¥ä¸‹ä¸‰ä¸ªæ ¸å¿ƒæ¦‚å¿µæ¨¡å—ï¼š<code>Subject</code>ã€<code>SecurityManger</code>å’Œ<code>Realms</code><img src=\"https://img1.imgtp.com/2022/12/29/1a3OX4ve.png\" alt=\"image-20210418162523103.png\" title=\"image-20210418162523103.png\" /></p>\n<ul>\n<li><code>Subject</code>ï¼šå½“å‰æ­£åœ¨æ‰§è¡Œçš„ç”¨æˆ·</li>\n<li><code>SecurityManger</code>ï¼šå®‰å…¨ç®¡ç†å™¨ï¼Œç®¡ç†æ‰€æœ‰ç”¨æˆ·çš„æ“ä½œï¼Œæ˜¯ shiro æ¶æ„çš„æ ¸å¿ƒ</li>\n<li><code>Realm</code>ï¼šå°è£…æ•°æ®æºï¼Œå……å½“ shiro ä¸åº”ç”¨ç¨‹åºå®‰å…¨æ•°æ®ä¹‹é—´çš„æ¡¥æ¢ï¼Œå½“éœ€è¦ä¸å®‰å…¨ç›¸å…³çš„æ•°æ®(å¦‚ç”¨æˆ·å¸æˆ·)è¿›è¡Œå®é™…äº¤äº’ä»¥æ‰§è¡Œèº«ä»½éªŒè¯(ç™»å½•)å’Œæˆæƒ(è®¿é—®æ§åˆ¶)æ—¶ï¼Œä¸ºå…¶æä¾›èº«ä»½éªŒè¯æˆ–è€…æˆæƒã€‚</li>\n</ul>\n<p>å› æ­¤ä¸€æ¬¡ è¯·æ±‚â€“&gt; è®¤è¯ â€“&gt; æˆæƒçš„æµç¨‹ä¸ºï¼š</p>\n<ol>\n<li>web åº”ç”¨ç¨‹åºè·å–å½“å‰çš„<code>Subject</code>å¹¶è°ƒç”¨è¯¥<code>Subject</code>çš„æ ¡éªŒæ–¹æ³•ï¼›</li>\n<li><code>Subject</code>ä¼ é€’æ ¡éªŒåˆ°<code>SecurityManger</code>è¿›è¡Œå¤„ç†å¹¶è¿›è¡Œåˆ¤æ–­ï¼›</li>\n<li><code>SecurityManger</code>è°ƒç”¨<code>Realm</code>è·å–é…ç½®ä¿¡æ¯ï¼Œé€šè¿‡è¯¥é…ç½®ä¿¡æ¯åˆ¤æ–­å½“å‰çš„<code>Subject</code>æ‰€å±è§’è‰²æ˜¯å¦èƒ½å¤Ÿè¿›è¡Œæ“ä½œã€‚</li>\n</ol>\n<h2 id=\"æ¼æ´ç¯å¢ƒ\"><a href=\"#æ¼æ´ç¯å¢ƒ\" class=\"headerlink\" title=\"æ¼æ´ç¯å¢ƒ\"></a>æ¼æ´ç¯å¢ƒ</h2><p>è¯¥æ¼æ´ç¯å¢ƒå·²ç»ä¸Šä¼ åˆ° github ä»“åº“ä¸Šï¼š<a href=\"https://github.com/dota-st/vulnEnv\">https://github.com/dota-st/vulnEnv</a><br><img src=\"https://img1.imgtp.com/2022/12/29/5G9U0N7W.png\" alt=\"image-20221017113541029.png\" title=\"image-20221017113541029.png\" /></p>\n<p>é¦–å…ˆåœ¨é…ç½®æ–‡ä»¶<code>realm.ini</code>ä¸­å®šä¹‰äº†ç”¨æˆ·è´¦å·å¯†ç ä»¥åŠå¯¹åº”è§’è‰²æƒé™<br><img src=\"https://img1.imgtp.com/2022/12/29/HAhxnXme.png\" alt=\"image-20221017113620512.png\" title=\"image-20221017113620512.png\" /></p>\n<p>ShiroConfig</p>\n<pre class=\"line-numbers language-java\" data-language=\"java\"><code class=\"language-java\">@Configuration\npublic class ShiroConfig &#123;\n\n    @Bean\n    public IniRealm getIniRealm()&#123;\n        return new IniRealm(&quot;classpath:realm.ini&quot;);\n    &#125;\n\n    @Bean\n    public DefaultWebSecurityManager getDefaultWebSecurityManager(Realm realm)&#123;\n        return new DefaultWebSecurityManager(realm);\n    &#125;\n\n\n    &#x2F;*\n     * anonï¼šæ— éœ€è®¤è¯å°±å¯ä»¥è®¿é—®\n     * authcï¼šå¿…é¡»è®¤è¯æ‰èƒ½è®¿é—®\n     * userï¼šå¿…é¡»æ‹¥æœ‰è®°ä½æˆ‘åŠŸèƒ½æ‰èƒ½è®¿é—®\n     * permsï¼šæ‹¥æœ‰æŸä¸ªèµ„æºçš„æƒé™æ‰èƒ½è®¿é—®\n     * roleï¼šæ‹¥æœ‰æŸä¸ªè§’è‰²çš„æƒé™æ‰èƒ½è®¿é—®\n     * *&#x2F;\n    @Bean\n    ShiroFilterFactoryBean getShiroFilterFactoryBean(DefaultWebSecurityManager defaultWebSecurityManager) &#123;\n        ShiroFilterFactoryBean bean &#x3D; new ShiroFilterFactoryBean();\n        bean.setSecurityManager(defaultWebSecurityManager);\n        bean.setLoginUrl(&quot;&#x2F;login.html&quot;);\n        LinkedHashMap&lt;String, String&gt; map &#x3D; new LinkedHashMap&lt;String, String&gt;();\n        map.put(&quot;&#x2F;admin.html&quot;, &quot;authc, roles[admin]&quot;);\n        map.put(&quot;&#x2F;user.html&quot;, &quot;authc, roles[user]&quot;);\n        map.put(&quot;&#x2F;**&quot;, &quot;anon&quot;);\n        bean.setFilterChainDefinitionMap(map);\n        return bean;\n    &#125;\n&#125;</code></pre>\n\n<p>UserController</p>\n<pre class=\"line-numbers language-java\" data-language=\"java\"><code class=\"language-java\">@Controller\npublic class UserController &#123;\n\n    @PostMapping(&quot;&#x2F;doLogin&quot;)\n    public String doLoginPage(@RequestParam(&quot;username&quot;) String username, @RequestParam(&quot;password&quot;) String password, @RequestParam(name&#x3D;&quot;rememberme&quot;, defaultValue&#x3D;&quot;&quot;) String rememberMe)&#123;\n        if(ShiroUtil.login(username, password))&#123;\n            if(ShiroUtil.hasRole(&quot;admin&quot;))&#123;\n                return &quot;redirect:&#x2F;admin.html&quot;;\n            &#125; else if (ShiroUtil.hasRole(&quot;user&quot;)) &#123;\n                return &quot;redirect:&#x2F;user.html&quot;;\n            &#125;\n        &#125;\n        return &quot;redirect:&#x2F;unauth.html&quot;;\n    &#125;\n\n    @RequestMapping(value&#x3D;&#123;&quot;&#x2F;&quot;&#125;)\n    public String helloPage() throws Exception &#123;\n\n        return &quot;redirect:&#x2F;login.html&quot;;\n    &#125;\n&#125;</code></pre>\n\n<h2 id=\"æ¼æ´åˆ†æ\"><a href=\"#æ¼æ´åˆ†æ\" class=\"headerlink\" title=\"æ¼æ´åˆ†æ\"></a>æ¼æ´åˆ†æ</h2><p>å½±å“ç‰ˆæœ¬ï¼šshiro &lt; 1.1.0</p>\n<p>shiro ä½¿ç”¨<code>org.apache.shiro.web.filter.mgt.PathMatchingFilterChainResolver#getChain()</code>æ–¹æ³•è·å–å’Œè°ƒç”¨æ‰§è¡Œçš„<code>filter</code><br><img src=\"https://img1.imgtp.com/2022/12/29/esRE1VRh.png\" alt=\"image-20221017161045663.png\" title=\"image-20221017161045663.png\" /></p>\n<p>åœ¨ä¸Šå›¾ä¸­å¯ä»¥çœ‹åˆ°ï¼Œé€šè¿‡<code>getPathWithinApplication()</code>æ–¹æ³•è·å–åˆ°æˆ‘ä»¬ä¼ å…¥çš„è¯·æ±‚è·¯å¾„<code>/./admin.html</code>ï¼Œæ¥ç€é€šè¿‡<code>filterChainManager.getChainNames()</code>æ–¹æ³•å–å‡ºæˆ‘ä»¬çš„é…ç½®</p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">[&#x2F;admin.html, &#x2F;user.html, &#x2F;**]</code></pre>\n\n<p>æˆ‘ä»¬è¿™é‡Œè·Ÿè¿›ä¸€ä¸‹<code>getPathWithinApplication()</code>æ–¹æ³•<br><img src=\"https://img1.imgtp.com/2022/12/29/Pkshkbhs.png\" alt=\"image-20221017161803921.png\" title=\"image-20221017161803921.png\" /></p>\n<p>ç»§ç»­è·Ÿè¿›<code>getPathWithinApplication()</code>æ–¹æ³•<br><img src=\"https://img1.imgtp.com/2022/12/29/F7cB7QED.png\" alt=\"image-20221017161912839.png\" title=\"image-20221017161912839.png\" /></p>\n<p>åœ¨<code>getRequestUri()</code>æ–¹æ³•ä¸­è¿”å›äº†<code>/./admin.html</code>ï¼Œç»§ç»­è·Ÿè¿›<code>getRequestUri()</code>æ–¹æ³•<br><img src=\"https://img1.imgtp.com/2022/12/29/glSQgXru.png\" alt=\"image-20221017162105007.png\" title=\"image-20221017162105007.png\" /></p>\n<p>æœ€åä¼š return åˆ°<code>decodeAndCleanUriString()</code>æ–¹æ³•ï¼Œç»§ç»­è·Ÿè¿›è¯¥æ–¹æ³•<br><img src=\"https://img1.imgtp.com/2022/12/29/CsAHXpxf.png\" alt=\"image-20221017162648547.png\" title=\"image-20221017162648547.png\" /></p>\n<p>é¦–å…ˆå¯¹ URL è¿›è¡Œ URL è§£ç ï¼Œå¹¶å¯¹<code>;</code>è¿›è¡Œæˆªå–ï¼ŒæŸ¥äº†ä¸€ä¸‹</p>\n<blockquote><span class=\"custom-blockquote-svg\"><svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"\" xmlns=\"http://www.w3.org/2000/svg\" data-reactroot=\"\">\n<path fill=\"\" d=\"M22 12C22 6.5 17.5 2 12 2C6.5 2 2 6.5 2 12C2 17.5 6.5 22 12 22C13.8 22 15.5 21.5 17 20.6L22 22L20.7 17C21.5 15.5 22 13.8 22 12Z\" undefined=\"1\"></path>\n<path fill=\"\" d=\"M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z\" undefined=\"1\"></path>\n<path fill=\"\" d=\"M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z\" undefined=\"1\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M17 8.5C15.23 8.97 14.07 10.84 14.01 13.27C14 13.33 14 13.4 14 13.47V13.5\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M9 8.5C7.23 8.97 6.07 10.84 6.01 13.27C6 13.33 6 13.4 6 13.47V13.5\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z\"></path>\n</svg>\n</span><p><code>decodeAndCleanUriString()</code> æ˜¯ URL Decode åŠé’ˆå¯¹ JBoss&#x2F;Jetty ç­‰ä¸­é—´ä»¶åœ¨ url å¤„æ·»åŠ  <code>;jsessionid</code> ä¹‹ç±»çš„å­—ç¬¦ä¸²çš„é€‚é…ï¼Œå¯¹ <code>;</code> è¿›è¡Œäº†æˆªå–ã€‚</p></blockquote>\n<p>æ¥ä¸‹æ¥<code>getChain()</code>æ–¹æ³•å¾€ä¸‹èµ°è¿›è¡Œ<code>while</code>å¾ªç¯ï¼Œé€šè¿‡<code>pathMatches()-&gt;pathMatcher.matches()</code>æ–¹æ³•è¿›è¡ŒåŒ¹é…<br><img src=\"https://img1.imgtp.com/2022/12/29/gLmGD4wE.png\" alt=\"image-20221017164449628.png\" title=\"image-20221017164449628.png\" /></p>\n<p>é€šè¿‡å‰é¢å¯¹è¯·æ±‚å¤„ç†çš„è·Ÿè¸ªï¼Œå¯ä»¥å‘ç°åœ¨åŒ¹é…ä¹‹å‰æ²¡æœ‰å¯¹ä¼ è¿›æ¥çš„<code>URL</code>è¿›è¡Œæ ‡å‡†åŒ–è·¯å¾„å¤„ç†ï¼Œå¦‚æœæ„é€ ä¸€ä¸‹è¯·æ±‚è·¯å¾„å°±æœ‰å¯èƒ½ç»•è¿‡æƒé™æ ¡éªŒã€‚</p>\n<p>å›é¡¾ä¸€ä¸‹ï¼Œæˆ‘ä»¬çš„é…ç½®å¦‚ä¸‹æ‰€ç¤ºï¼Œè®¾ç½®<code>admin.html</code>æ–‡ä»¶åªæœ‰<code>amdin</code>ç”¨æˆ·è§’è‰²æ‰èƒ½è®¿é—®ï¼ŒåŒæ—¶è®¾ç½®<code>/**</code>ä¸º<code>anon</code></p>\n<pre class=\"line-numbers language-java\" data-language=\"java\"><code class=\"language-java\">@Bean\n    ShiroFilterFactoryBean getShiroFilterFactoryBean(DefaultWebSecurityManager defaultWebSecurityManager) &#123;\n        ShiroFilterFactoryBean bean &#x3D; new ShiroFilterFactoryBean();\n        bean.setSecurityManager(defaultWebSecurityManager);\n        bean.setLoginUrl(&quot;&#x2F;login.html&quot;);\n        LinkedHashMap&lt;String, String&gt; map &#x3D; new LinkedHashMap&lt;String, String&gt;();\n        map.put(&quot;&#x2F;admin.html&quot;, &quot;authc, roles[admin]&quot;);\n        map.put(&quot;&#x2F;user.html&quot;, &quot;authc, roles[user]&quot;);\n        map.put(&quot;&#x2F;**&quot;, &quot;anon&quot;);\n        bean.setFilterChainDefinitionMap(map);\n        return bean;\n    &#125;</code></pre>\n\n<p>è®¿é—®<code>admin.html</code>ï¼Œå› ä¸ºæ²¡æœ‰<code>admin</code>æƒé™ï¼Œæ ¡éªŒå¤±è´¥æ•… 302 è·³è½¬åˆ°äº†<code>login.html</code><br><img src=\"https://img1.imgtp.com/2022/12/29/IuEpCdm5.png\" alt=\"image-20221017114715110.png\" title=\"image-20221017114715110.png\" /></p>\n<p>è®¿é—®<code>/./admin.html</code>æˆ–è€…<code>/aa/../admin.html</code>ï¼Œåœ¨<code>while</code>å¾ªç¯ä¸­ï¼Œä¸å‰é¢çš„<code>/admin.html</code>å’Œ<code>/user.html</code>åŒ¹é…å¤±è´¥ï¼Œè¿›è€Œè¿›å…¥äº†<code>/**</code>çš„åŒ¹é…èŒƒå›´ï¼ŒæˆåŠŸè®¿é—®åˆ°<code>admin.html</code>æ–‡ä»¶<br><img src=\"https://img1.imgtp.com/2022/12/29/0aToTlbh.png\" alt=\"image-20221017114807826.png\" title=\"image-20221017114807826.png\" /></p>\n","text":" æ—…è¡Œè€…,æœ¬ç ´ç«™ç‚¹æ—¨åœ¨åŸåˆ›æ–‡ç« è®°å½•å­¦ä¹ ç»å†&amp;&amp;æ”¶é›†ä¼˜ç§€èµ„æºå‡å°‘å­¦ä¹ æˆæœ¬ï¼Œå¦‚æœæ‚¨åˆæ›´å¥½çš„æƒ³æ³•è¯·è”ç³»æˆ‘ã€‚è®©æˆ‘ä»¬ä¸€èµ·ä¼ æ‰¿å¼€æºç²¾ç¥ğŸ¤“â€¦â€¦ CVE-2010-3863æƒé™ç»•è¿‡åˆ†æåˆè¯†shiro Apache Shiroâ„¢æ˜¯ä¸€ä¸ªåŠŸèƒ½å¼ºå¤§ä¸”æ˜“äºä½¿ç”¨çš„ Java å®‰å…¨æ¡†æ¶ï¼Œå®ƒæ‰§è¡Œ...","link":"","photos":[],"count_time":{"symbolsCount":"4.6k","symbolsTime":"4 mins."},"categories":[{"name":"Javaå®‰å…¨","slug":"Javaå®‰å…¨","count":3,"path":"api/categories/Javaå®‰å…¨.json"}],"tags":[{"name":"Javaå®‰å…¨","slug":"Javaå®‰å…¨","count":3,"path":"api/tags/Javaå®‰å…¨.json"}],"toc":"<ol class=\"toc\"><li class=\"toc-item toc-level-1\"><a class=\"toc-link\" href=\"#CVE-2010-3863%E6%9D%83%E9%99%90%E7%BB%95%E8%BF%87%E5%88%86%E6%9E%90\"><span class=\"toc-text\">CVE-2010-3863æƒé™ç»•è¿‡åˆ†æ</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E5%88%9D%E8%AF%86shiro\"><span class=\"toc-text\">åˆè¯†shiro</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E6%BC%8F%E6%B4%9E%E7%8E%AF%E5%A2%83\"><span class=\"toc-text\">æ¼æ´ç¯å¢ƒ</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E6%BC%8F%E6%B4%9E%E5%88%86%E6%9E%90\"><span class=\"toc-text\">æ¼æ´åˆ†æ</span></a></li></ol></li></ol>","author":{"name":"Akpigs","slug":"blog-author","avatar":"https://img1.imgtp.com/2022/12/28/m2fD4XcB.jpg","link":"/","description":"Sharp tools make good work, ç‰ä¸ç¢ï¼Œä¸æˆå™¨ï¼›äººä¸å­¦ï¼Œä¸çŸ¥é“ã€‚","socials":{"github":"https://github.com/akpigs","twitter":"https://twitter.com/EmilyLe443","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"https://akpigs.blog.csdn.net/","juejin":"","customs":{"discord":{"icon":"/svg/discord.svg","link":"https://discord.gg/vS7yaWgW"},"bilibili":{"icon":"/svg/bilibili.svg","link":"https://www.bilibili.com"},"facebook":{"icon":"/svg/facebook.svg","link":"https://facebook.com"}}}},"mapped":true,"prev_post":{"title":"C/C++é‚£äº›äº‹","uid":"57d886b036cac1f1f4453ef4a9cee3e6","slug":"C++æ ¸å¿ƒç¼–ç¨‹","date":"2020-11-21T12:53:51.000Z","updated":"2022-12-30T15:24:45.737Z","comments":true,"path":"api/articles/C++æ ¸å¿ƒç¼–ç¨‹.json","keywords":null,"cover":"https://img1.imgtp.com/2022/12/30/g3lktEkb.jpg","text":"C&#x2F;C++æ•™ç¨‹æœ¬é˜¶æ®µä¸»è¦é’ˆå¯¹C++&#x3D;&#x3D;é¢å‘å¯¹è±¡&#x3D;&#x3D;ç¼–ç¨‹æŠ€æœ¯åšè¯¦ç»†è®²è§£ï¼Œæ¢è®¨C++ä¸­çš„æ ¸å¿ƒå’Œç²¾é«“ã€‚ å†…å­˜åˆ†åŒºæ¨¡å‹C++ç¨‹åºåœ¨æ‰§è¡Œæ—¶ï¼Œå°†å†…å­˜å¤§æ–¹å‘åˆ’åˆ†ä¸º4ä¸ªåŒºåŸŸ ä»£ç åŒºï¼šå­˜æ”¾å‡½æ•°ä½“çš„äºŒè¿›åˆ¶ä»£ç ï¼Œç”±æ“ä½œç³»ç»Ÿè¿›è¡Œç®¡ç†çš„ å…¨å±€åŒºï¼šå­˜æ”¾å…¨å±€å˜...","link":"","photos":[],"count_time":{"symbolsCount":"64k","symbolsTime":"58 mins."},"categories":[{"name":"C/C++","slug":"C-C","count":2,"path":"api/categories/C-C.json"}],"tags":[{"name":"C/C++åŸºç¡€","slug":"C-C-åŸºç¡€","count":2,"path":"api/tags/C-C-åŸºç¡€.json"}],"author":{"name":"Akpigs","slug":"blog-author","avatar":"https://img1.imgtp.com/2022/12/28/m2fD4XcB.jpg","link":"/","description":"Sharp tools make good work, ç‰ä¸ç¢ï¼Œä¸æˆå™¨ï¼›äººä¸å­¦ï¼Œä¸çŸ¥é“ã€‚","socials":{"github":"https://github.com/akpigs","twitter":"https://twitter.com/EmilyLe443","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"https://akpigs.blog.csdn.net/","juejin":"","customs":{"discord":{"icon":"/svg/discord.svg","link":"https://discord.gg/vS7yaWgW"},"bilibili":{"icon":"/svg/bilibili.svg","link":"https://www.bilibili.com"},"facebook":{"icon":"/svg/facebook.svg","link":"https://facebook.com"}}}}},"next_post":{"title":"C/C++å¤ä¹ ","uid":"c389a93a9c4f740048ca4cf923519873","slug":"C-C-å¤ä¹ ","date":"2020-10-30T15:02:57.000Z","updated":"2022-12-30T15:12:49.615Z","comments":true,"path":"api/articles/C-C-å¤ä¹ .json","keywords":null,"cover":"https://img1.imgtp.com/2022/12/30/crrqhAeM.jpg","text":" https://github.com/hugang-first/Cpp-0-1-Resource ","link":"","photos":[],"count_time":{"symbolsCount":58,"symbolsTime":"1 mins."},"categories":[{"name":"C/C++","slug":"C-C","count":2,"path":"api/categories/C-C.json"}],"tags":[{"name":"C/C++åŸºç¡€","slug":"C-C-åŸºç¡€","count":2,"path":"api/tags/C-C-åŸºç¡€.json"}],"author":{"name":"Akpigs","slug":"blog-author","avatar":"https://img1.imgtp.com/2022/12/28/m2fD4XcB.jpg","link":"/","description":"Sharp tools make good work, ç‰ä¸ç¢ï¼Œä¸æˆå™¨ï¼›äººä¸å­¦ï¼Œä¸çŸ¥é“ã€‚","socials":{"github":"https://github.com/akpigs","twitter":"https://twitter.com/EmilyLe443","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"https://akpigs.blog.csdn.net/","juejin":"","customs":{"discord":{"icon":"/svg/discord.svg","link":"https://discord.gg/vS7yaWgW"},"bilibili":{"icon":"/svg/bilibili.svg","link":"https://www.bilibili.com"},"facebook":{"icon":"/svg/facebook.svg","link":"https://facebook.com"}}}}}}